# IP协议笔记

## 片偏移
片偏移就是某片在相对于用户数据字段的起点，该片从何处开始，以8个字节为偏移单位。这就是说，每个分片的长度一定是8字节（64位）的整数倍。

例如：有一数据报的数据部分分为3800字节（使用固定首部），需要分片的长度不超过1420字节。固定首部为20字节。需要计算分片后的片偏移值？

一共要传输3800字节，每次最大只能传1400字节（因为还要加上ip固定头部字节的20字节,加起来就是1420字节），所以只需传3次，即1400+1400+1000（一共3800字节）即可。

这样第一次传时，片偏移为0。   
第二次传时，片偏移为1400/8=175。   
第三次传时，片偏移为2800/8=350。   
